<ListPanel WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Right" VerticalAlignment="Bottom" PositionXOffset="-664" MarginBottom="128" LayoutImp.LayoutMethod="VerticalBottomToTop">
    <Children>
        <!-- SortBy Menu -->
        <Widget Id="TypeOrderSortByMenu" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="150" SuggestedHeight="175" HorizontalAlignment="Right" LayoutImp.LayoutMethod="VerticalBottomToTop" Brush="Launcher.Background">
            <Children>
                <ListPanel WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="35" MarginTop="10" MarginLeft="30">
                    <Children>
                        <TextWidget Text="Type" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" MarginLeft="10" PositionYOffset="2" Brush="Party.Role.Main.Text" Brush.TextHorizontalAlignment="Left"/>
                    </Children>
                </ListPanel>

                <ScrollablePanel Id="TypeOrderMenuSortByScrollablePanel" HeightSizePolicy ="StretchToParent" WidthSizePolicy="StretchToParent" InnerPanel="TypeOrderMenuSortByClipRect\InnerPanel" ClipRect="TypeOrderMenuSortByClipRect" MarginLeft="30" MarginTop="46" MarginBottom="23" AutoHideScrollBars="true" AcceptDrop="true" Command.Drop="ChangeOrderOfTypeOption" CommandParameter.Drop="Mod">
                    <Children>
                        <Widget Id="TypeOrderMenuSortByClipRect" WidthSizePolicy = "StretchToParent" HeightSizePolicy = "StretchToParent" HorizontalAlignment="Center" ClipContents="true" Brush.GlobalAlphaFactor="0.75">
                            <Children>
                                <ListPanel Id="TypeOrderMenuSortByInnerPanel" DataSource="{TypeOrderOptionSortByVms}" LayoutImp.LayoutMethod="VerticalBottomToTop" WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" AcceptDrop="true" Command.Drop="..\ChangeOrderOfTypeOption" CommandParameter.Drop="withIndex">
                                    <ItemTemplate>
                                        <ListPanel WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="35" MarginBottom="10" AcceptDrag="true" DragWidget="DragWidget">
                                            <Children>
                                                <ButtonWidget WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="16" SuggestedHeight="26" VerticalAlignment="Center" MarginLeft="10" Brush="Launcher.Mods.ModSorter"/>
                                                <TextWidget Text="@Label" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" MarginLeft="10" PositionYOffset="2" Brush="Party.Role.Main.Text" Brush.TextHorizontalAlignment="Left"/>
                                                <Widget Id="DragWidget" DoNotAcceptEvents="true" DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="50" SuggestedHeight="35" HorizontalAlignment="Center" VerticalAlignment="Center" IsDisabled="true" IsVisible="false">
                                                    <Children>
                                                        <TextWidget Text="@Label" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="Party.Role.Main.Text" Brush.TextHorizontalAlignment="Left" />
                                                    </Children>
                                                </Widget>
                                            </Children>
                                        </ListPanel>
                                    </ItemTemplate>
                                </ListPanel>
                            </Children>
                        </Widget>
                    </Children>
                </ScrollablePanel>
            </Children>
        </Widget>

        <!-- ThenBy menu -->
        

        <!-- Toggle buttons -->
        <ListPanel WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Right" LayoutImp.LayoutMethod="HorizontalLeftToRight">
            <Children>
                <!-- SortBy Toggle -->
                <Widget Id="TypeOrderSortByToggle" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="35" SuggestedHeight="35" HorizontalAlignment="Right" VerticalAlignment="Top" MarginRight="152" UpdateChildrenStates="true">
                    <Children>
                        <Widget Id="TypeOrderSortByOpenButtonWidget" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren">
                            <Children>
                                <ButtonIconOffsetWidget DoNotPassEventsToChildren="true" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="MapBar.Left.Button4" ButtonIcon="TypeOrderSortByOpenTextIcon" Command.Click="ExecuteTypeOrderSortByOpen" PressedXOffset="0" PressedYOffset="1" UpdateChildrenStates="true">
                                    <Children>
                                        <TextWidget Id="TypeOrderSortByOpenTextIcon" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="30" SuggestedHeight="30" HorizontalAlignment="Center" VerticalAlignment="Center" MarginTop="2" Brush="Party.Text.Toggle" Text="@TypeOrderSortByOpenText"/>
                                    </Children>
                                </ButtonIconOffsetWidget>
                                <HintWidget DataSource="{TypeOrderSortByOpenHintText}" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint"/>
                            </Children>
                        </Widget>
                        <Widget Id="TypeOrderSortByCloseButtonWidget" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren">
                            <Children>
                                <ButtonIconOffsetWidget DoNotPassEventsToChildren="true" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="MapBar.Left.Button4" ButtonIcon="TypeOrderSortByCloseTextIcon" Command.Click="ExecuteTypeOrderSortByClose" PressedXOffset="0" PressedYOffset="1" UpdateChildrenStates="true">
                                    <Children>
                                        <TextWidget Id="TypeOrderSortByCloseTextIcon" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="30" SuggestedHeight="30" HorizontalAlignment="Center" VerticalAlignment="Center" MarginRight="52" MarginBottom="175" Brush="Party.Text.Toggle" Text="@TypeOrderSortByCloseText"/>
                                    </Children>
                                </ButtonIconOffsetWidget>
                                <HintWidget DataSource="{TypeOrderSortByCloseHintText}" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint"/>
                            </Children>
                        </Widget>
                    </Children>
                </Widget>

                <!-- ThenBy Toggle -->
                <Widget Id="TypeOrderThenByToggle" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="35" SuggestedHeight="35" HorizontalAlignment="Left" VerticalAlignment="Top" MarginLeft="152" UpdateChildrenStates="true" IsDisabled="true">
                    <Children>
                        <Widget Id="TypeOrderThenByOpenButtonWidget" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren">
                            <Children>
                                <ButtonIconOffsetWidget DoNotPassEventsToChildren="true" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="MapBar.Left.Button4" ButtonIcon="TypeOrderThenByOpenTextIcon" Command.Click="ExecuteTypeOrderThenByOpen" PressedXOffset="0" PressedYOffset="1" UpdateChildrenStates="true">
                                    <Children>
                                        <TextWidget Id="TypeOrderThenByOpenTextIcon" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="30" SuggestedHeight="30" HorizontalAlignment="Center" VerticalAlignment="Center" MarginTop="2" Brush="Party.Text.Toggle" Text="@TypeOrderThenByOpenText"/>
                                    </Children>
                                </ButtonIconOffsetWidget>
                                <HintWidget DataSource="{TypeOrderThenByOpenHintText}" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint"/>
                            </Children>
                        </Widget>
                        <Widget Id="TypeOrderThenByCloseButtonWidget" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren">
                            <Children>
                                <ButtonIconOffsetWidget DoNotPassEventsToChildren="true" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="MapBar.Left.Button4" ButtonIcon="TypeOrderThenByCloseTextIcon" Command.Click="ExecuteTypeOrderThenByClose" PressedXOffset="0" PressedYOffset="1" UpdateChildrenStates="true">
                                    <Children>
                                        <TextWidget Id="TypeOrderThenByCloseTextIcon" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="30" SuggestedHeight="30" HorizontalAlignment="Center" VerticalAlignment="Center" MarginTop="2" Brush="Party.Text.Toggle" Text="@TypeOrderThenByCloseText"/>
                                    </Children>
                                </ButtonIconOffsetWidget>
                                <HintWidget DataSource="{TypeOrderThenByCloseHintText}" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint"/>
                            </Children>
                        </Widget>
                    </Children>
                </Widget>
            </Children>
        </ListPanel>
    </Children>
</ListPanel>
