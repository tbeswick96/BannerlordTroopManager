<ListPanel WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Right" VerticalAlignment="Bottom" PositionXOffset="-816" MarginBottom="253" LayoutImp.LayoutMethod="VerticalBottomToTop">
    <Children>
        <ListPanel WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" LayoutImp.LayoutMethod="HorizontalLeftToRight" MarginBottom="10" PositionXOffset="38">
            <Children>
                <!-- SortBy Menu -->
                <ListPanel Id="TypeOrderSortByMenu" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="220" SuggestedHeight="230" MarginRight="42" LayoutImp.LayoutMethod="VerticalBottomToTop">
                    <Children>
                        <Widget WidthSizePolicy="StretchToParent" HeightSizePolicy="CoverChildren" MarginLeft="5" MarginRight="5" HorizontalAlignment="Right" LayoutImp.LayoutMethod="VerticalBottomToTop" Brush="Frame1.Broken.Right">
                            <Children>
                                <Widget Id="TypeOrderSortByCloseButtonWidget" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="35" SuggestedHeight="35" MarginLeft="-12" MarginTop="-12">
                                    <Children>
                                        <ButtonIconOffsetWidget DoNotPassEventsToChildren="true" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="MapBar.Left.Button4" ButtonIcon="TypeOrderSortByCloseTextIcon" Command.Click="ExecuteTypeOrderSortByClose" PressedXOffset="0" PressedYOffset="1" UpdateChildrenStates="true">
                                            <Children>
                                                <TextWidget Id="TypeOrderCloseTextIcon" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="30" SuggestedHeight="30" HorizontalAlignment="Center" VerticalAlignment="Center" MarginLeft="1" MarginTop="5" Brush="Party.Text.Toggle" Text="X"/>
                                            </Children>
                                        </ButtonIconOffsetWidget>
                                        <HintWidget DataSource="{TypeOrderCloseHintText}" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint"/>
                                    </Children>
                                </Widget>
                                <TextWidget Text="Type Order" WidthSizePolicy="CoverChildren" HeightSizePolicy="Fixed" SuggestedWidth="75" MarginTop="5" SuggestedHeight="35" HorizontalAlignment="Center" Brush="Party.Role.Main.Text" Brush.TextHorizontalAlignment="Center" />
                                <ScrollablePanel Id="TypeOrderMenuSortByScrollablePanel" HeightSizePolicy="StretchToParent" WidthSizePolicy="StretchToParent" InnerPanel="TypeOrderMenuSortByClipRect\InnerPanel" ClipRect="TypeOrderMenuSortByClipRect" MarginTop="42" MarginBottom="10" MarginRight="10" MarginLeft="10" AutoHideScrollBars="true" AcceptDrop="true" Command.Drop="ChangeOrderOfTypeOption">
                                    <Children>
                                        <Widget Id="TypeOrderMenuSortByClipRect" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" HorizontalAlignment="Center" ClipContents="true" Brush.GlobalAlphaFactor="0.75">
                                            <Children>
                                                <ListPanel Id="TypeOrderMenuSortByInnerPanel" DataSource="{TypeOrderOptionSortByVms}" LayoutImp.LayoutMethod="VerticalBottomToTop" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="MapBar.Left.Button4" AcceptDrop="true" Command.Drop="..\ChangeOrderOfTypeOption">
                                                    <ItemTemplate>
                                                        <ListPanel WidthSizePolicy="StretchToParent" HeightSizePolicy="Fixed" SuggestedHeight="45" AcceptDrag="true" DragWidget="DragWidget" Sprite="SPOptions\standart_slider_canvas">
                                                            <Children>
                                                                <ButtonWidget WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" VerticalAlignment="Center" IsDisabled="true">
                                                                    <Children>
                                                                        <TextWidget Text="@Label" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" PositionYOffset="2" Brush="Party.Role.Main.Text" Brush.TextHorizontalAlignment="Center"/>
                                                                    </Children>
                                                                </ButtonWidget>
                                                                <Widget Id="DragWidget" DoNotAcceptEvents="true" DoNotPassEventsToChildren="true" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="200" SuggestedHeight="35" HorizontalAlignment="Center" VerticalAlignment="Center" Brush="Party.Role.Dropdown" IsDisabled="true" IsVisible="false">
                                                                    <Children>
                                                                        <TextWidget Text="@Label" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="Party.Role.Main.Text" Brush.TextHorizontalAlignment="Left"/>
                                                                    </Children>
                                                                </Widget>
                                                            </Children>
                                                        </ListPanel>
                                                    </ItemTemplate>
                                                </ListPanel>
                                            </Children>
                                        </Widget>
                                    </Children>
                                </ScrollablePanel>
                            </Children>
                        </Widget>
                    </Children>
                </ListPanel>
            </Children>
        </ListPanel>

        <!-- ThenBy menu -->


        <!-- Toggle buttons -->
        <ListPanel WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Right" LayoutImp.LayoutMethod="VerticalBottomToTop">
            <Children>
                <!-- SortBy Toggle -->
                <Widget Id="TypeOrderSortByToggle" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Right" VerticalAlignment="Top" UpdateChildrenStates="true" MarginBottom="44">
                    <Children>
                        <Widget Id="TypeOrderSortByOpenButtonWidget" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="35" SuggestedHeight="35">
                            <Children>
                                <ButtonIconOffsetWidget DoNotPassEventsToChildren="true" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="MapBar.Left.Button4" ButtonIcon="TypeOrderSortByOpenTextIcon" Command.Click="ExecuteTypeOrderSortByOpen" PressedXOffset="0" PressedYOffset="1" UpdateChildrenStates="true">
                                    <Children>
                                        <TextWidget Id="TypeOrderOpenTextIcon" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="30" SuggestedHeight="30" HorizontalAlignment="Center" VerticalAlignment="Center" MarginTop="15" Brush="Party.Text.Toggle" Text="@TypeOrderOpenText"/>
                                    </Children>
                                </ButtonIconOffsetWidget>
                                <HintWidget DataSource="{TypeOrderOpenHintText}" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint"/>
                            </Children>
                        </Widget>
                    </Children>
                </Widget>

                <!-- ThenBy Toggle -->
                <Widget Id="TypeOrderThenByToggle" WidthSizePolicy="CoverChildren" HeightSizePolicy="CoverChildren" HorizontalAlignment="Right" VerticalAlignment="Top" UpdateChildrenStates="true" IsDisabled="true">
                    <Children>
                        <Widget Id="TypeOrderThenByOpenButtonWidget" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="35" SuggestedHeight="35">
                            <Children>
                                <ButtonIconOffsetWidget DoNotPassEventsToChildren="true" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="MapBar.Left.Button4" ButtonIcon="TypeOrderThenByOpenTextIcon" Command.Click="ExecuteTypeOrderThenByOpen" PressedXOffset="0" PressedYOffset="1" UpdateChildrenStates="true">
                                    <Children>
                                        <TextWidget Id="TypeOrderOpenTextIcon" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="30" SuggestedHeight="30" HorizontalAlignment="Center" VerticalAlignment="Center" MarginTop="8" Brush="Party.Text.Toggle" Text="@TypeOrderOpenText"/>
                                    </Children>
                                </ButtonIconOffsetWidget>
                                <HintWidget DataSource="{TypeOrderOpenHintText}" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint"/>
                            </Children>
                        </Widget>
                        <Widget Id="TypeOrderThenByCloseButtonWidget" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="35" SuggestedHeight="35">
                            <Children>
                                <ButtonIconOffsetWidget DoNotPassEventsToChildren="true" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Brush="MapBar.Left.Button4" ButtonIcon="TypeOrderThenByCloseTextIcon" Command.Click="ExecuteTypeOrderThenByClose" PressedXOffset="0" PressedYOffset="1" UpdateChildrenStates="true">
                                    <Children>
                                        <TextWidget Id="TypeOrderCloseTextIcon" WidthSizePolicy="Fixed" HeightSizePolicy="Fixed" SuggestedWidth="30" SuggestedHeight="30" HorizontalAlignment="Center" VerticalAlignment="Center" MarginTop="8" Brush="Party.Text.Toggle" Text="@TypeOrderCloseText"/>
                                    </Children>
                                </ButtonIconOffsetWidget>
                                <HintWidget DataSource="{TypeOrderCloseHintText}" WidthSizePolicy="StretchToParent" HeightSizePolicy="StretchToParent" Command.HoverBegin="ExecuteBeginHint" Command.HoverEnd="ExecuteEndHint"/>
                            </Children>
                        </Widget>
                    </Children>
                </Widget>
            </Children>
        </ListPanel>
    </Children>
</ListPanel>
